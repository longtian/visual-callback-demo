# visual-callback-demo
---------------------------------
![versions](https://david-dm.org/wyvernnot/visual-callback-demo.svg)

A visualized demo of callbacks

### Line Format:

`{Operation} {TimeDIfference} {Time} {CallbackQueue} {ExecutingQueue}`


### Legends:

- `+` New callbacks created
- `{` Before callbacks is executed
- `}` After callback us executed
- `++` Callback queue
- `*` Executing queue

## Example 1 - Simple

Command:

```sh
node example/simple.js
```

Output:

```txt
+	354	656	+	
+	289	979	++	
 {	351	1342	+	*
  }	28	1375	+	
 {	203	1670		*
+	21	1696	+	*
  }	12	1711	+	
 {	54	1768		*
  }	6	1778		
```


## Example 2 - Complex

Command:

```sh
node example/complex.js
```

Output:

```txt
begin	211	536	
+	139	707	+	
+	72	790	++	
+	7	800	+++	
 {	164	966	++	*
1	20	989	
+	3	993	+++	*
+	2	998	++++	*
+	2	1001	+++++	*
  }	17	1019	+++++	
 {	13	1101	++++	*
+	12	1114	+++++	*
  }	4	1122	+++++	
 {	2	1125	++++	*
  }	5	1131	++++	
 {	2	1135	+++	*
  }	3	1140	+++	
 {	0	1142	++	*
+	11	1157	+++	*
  }	1	1160	+++	
 {	1	1163	++	*
  }	3	1168	++	
 {	0	1170	+	*
  }	3	1174	+	
 {	0	1177		*
1.2.1	5	1184	
  }	0	1186		
```


## Example 3 - HTTP Server

Command:

```sh
node example/http.js > history.log
```

```sh
ab -n 10000 -c 100 http://localhost:3000/
```

Output:

```txt
 {      1       3824887 +++++++++++++++++++++++++++++++++++++++++++     *
+       29      3824918 ++++++++++++++++++++++++++++++++++++++++++++    *
+       5       3824926 +++++++++++++++++++++++++++++++++++++++++++++   *
  }     28      3824955 +++++++++++++++++++++++++++++++++++++++++++++   
 {      77      3825036 ++++++++++++++++++++++++++++++++++++++++++++    *
+       33      3825072 +++++++++++++++++++++++++++++++++++++++++++++   *
+       5       3825081 ++++++++++++++++++++++++++++++++++++++++++++++  *
  }     32      3825115 ++++++++++++++++++++++++++++++++++++++++++++++  
 {      5       3825125 +++++++++++++++++++++++++++++++++++++++++++++   *
  }     1       3825128 +++++++++++++++++++++++++++++++++++++++++++++   
 {      1       3825130 ++++++++++++++++++++++++++++++++++++++++++++    *
  }     2       3825133 ++++++++++++++++++++++++++++++++++++++++++++    
 {      1       3825135 +++++++++++++++++++++++++++++++++++++++++++     *
  }     1       3825137 +++++++++++++++++++++++++++++++++++++++++++     
 {      1       3825139 ++++++++++++++++++++++++++++++++++++++++++      *
```
